<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Contact Us</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/19.2.15/css/intlTelInput.css"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Spinner Start -->
    <div
      id="spinner"
      class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div
        class="spinner-grow text-primary"
        style="width: 3rem; height: 3rem"
        role="status"
      >
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <!-- Spinner End -->

    <!-- Topbar Start -->
    <div class="container-fluid bg-light p-0 wow fadeIn" data-wow-delay="0.1s">
      <div class="row gx-0 d-none d-lg-flex">
        <div class="col-lg-7 px-5 text-start">
          <div class="h-100 d-inline-flex align-items-center py-3 me-4">
            <small class="fa fa-map-marker-alt text-primary me-2"></small>
            <small
              >Unit 16A, 16B / 17A Ground Floor, Tower B3, Spaze Itech Park,
              Sector 49, Gurugram, Haryana 122018, India
            </small>
          </div>
          <div class="h-100 d-inline-flex align-items-center py-3">
            <small class="far fa-clock text-primary me-2"></small>
            <small>Mon - Fri : 09.00 AM - 09.00 PM</small>
          </div>
        </div>
        <div class="col-lg-5 px-5 text-end">
          <div class="h-100 d-inline-flex align-items-center py-3 me-4">
            <small class="fa fa-phone-alt text-primary me-2"></small>
            <small>+1 855 888 0114</small>
          </div>
          <div class="h-100 d-inline-flex align-items-center">
            <a
              class="btn btn-sm-square rounded-circle bg-white text-primary me-1"
              href=""
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a
              class="btn btn-sm-square rounded-circle bg-white text-primary me-1"
              href=""
              ><i class="fab fa-twitter"></i
            ></a>
            <a
              class="btn btn-sm-square rounded-circle bg-white text-primary me-1"
              href=""
              ><i class="fab fa-linkedin-in"></i
            ></a>
            <a
              class="btn btn-sm-square rounded-circle bg-white text-primary me-0"
              href=""
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
      </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <nav
      class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn"
      data-wow-delay="0.1s"
    >
      <a
        href="index.html"
        class="navbar-brand d-flex align-items-center px-4 px-lg-5"
      >
        <img src="img/logo.png" style="width: 150px" />
      </a>
      <button
        type="button"
        class="navbar-toggler me-4"
        data-bs-toggle="collapse"
        data-bs-target="#navbarCollapse"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
          <a href="index.html" class="nav-item nav-link">Home</a>
          <a href="about.html" class="nav-item nav-link">About</a>
          <a href="medical-treatment.html" class="nav-item nav-link"
            >Medical Treatment Cost</a
          >
          <div class="nav-item dropdown">
            <a
              href="#"
              class="nav-link dropdown-toggle"
              data-bs-toggle="dropdown"
              >Pages</a
            >
            <div class="dropdown-menu rounded-0 rounded-bottom m-0">
              <a href="cardiac-surgery.html" class="dropdown-item"
                >Cardiac Surgery</a
              >
            </div>
          </div>
          <a href="contact.html" class="nav-item nav-link active">Contact</a>
        </div>
        <a
          href=""
          class="btn btn-primary rounded-0 py-4 px-lg-5 d-none d-lg-block"
          >Appointment<i class="fa fa-arrow-right ms-3"></i
        ></a>
      </div>
    </nav>
    <!-- Navbar End -->

    <!-- Page Header Start -->
    <div
      class="container-fluid page-header py-5 mb-5 wow fadeIn"
      data-wow-delay="0.1s"
    >
      <div class="container py-5">
        <h1 class="display-3 text-white mb-3 animated slideInDown">
          Contact Us
        </h1>
        <nav aria-label="breadcrumb animated slideInDown"></nav>
      </div>
    </div>
    <!-- Page Header End -->

    <!-- Contact Start -->
    <div class="container-xxl py-5">
      <div class="container">
        <div class="row g-4">
          <div class="col-lg-4">
            <div class="h-100 bg-light rounded d-flex align-items-center p-5">
              <div
                class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-white"
                style="width: 55px; height: 55px"
              >
                <i class="fa fa-map-marker-alt text-primary"></i>
              </div>
              <div class="ms-4">
                <p class="mb-2">Address</p>
                <h5 class="mb-0">
                  Unit 16A, 16B / 17A Ground Floor, Tower B3, Spaze Itech Park,
                  Sector 49, Gurugram, Haryana 122018, India
                </h5>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="h-100 bg-light rounded d-flex align-items-center p-5">
              <div
                class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-white"
                style="width: 55px; height: 55px"
              >
                <i class="fa fa-phone-alt text-primary"></i>
              </div>
              <div class="ms-4">
                <p class="mb-2">Call Us Now</p>
                <h5 class="mb-0">+1 855 888 0114</h5>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="h-100 bg-light rounded d-flex align-items-center p-5">
              <div
                class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-white"
                style="width: 55px; height: 55px"
              >
                <i class="fa fa-envelope-open text-primary"></i>
              </div>
              <div class="ms-4">
                <p class="mb-2">Mail Us Now</p>
                <h5 class="mb-0">medical@adamvacations.com</h5>
              </div>
            </div>
          </div>
          <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
            <div class="bg-light rounded p-5">
              <p class="d-inline-block border rounded-pill py-1 px-4">
                Contact Us
              </p>
              <h1 class="mb-4">Need Assistance? We’re here to help.</h1>
              <p class="mb-4">Trusted by Patients from Around the World</p>

              <!-- Contact Form with Phone Country Code, Nationality & Preferred Time -->
              <form id="contactForm" class="needs-validation" novalidate>
                <div class="row g-3">
                  <!-- Full Name -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <input
                        type="text"
                        class="form-control"
                        id="name"
                        name="name"
                        placeholder="Your Name"
                        required
                        minlength="2"
                        maxlength="100"
                      />
                      <label for="name">Your Name</label>
                      <div class="invalid-feedback">
                        Please enter your name (minimum 2 characters)
                      </div>
                    </div>
                  </div>

                  <!-- Email -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        name="email"
                        placeholder="Your Email"
                        required
                      />
                      <label for="email">Your Email</label>
                      <div class="invalid-feedback">
                        Please enter a valid email address
                      </div>
                    </div>
                  </div>

                  <!-- Phone with Country Code (intl-tel-input) -->
                  <div class="col-12">
                    <div class="form-floating">
                      <input
                        type="tel"
                        class="form-control"
                        id="phone"
                        name="phone"
                        placeholder="Your Phone"
                        required
                      />
                      <label for="phone">Your Phone</label>
                      <div class="invalid-feedback">
                        Please enter a valid phone number
                      </div>
                    </div>
                  </div>

                  <!-- Preferred Callback Time -->
                  <div class="col-12">
                    <div class="form-floating">
                      <select
                        class="form-select"
                        id="preferredTime"
                        name="preferredTime"
                        required
                      >
                        <option value="" selected disabled>
                          When would you like us to call you?
                        </option>
                            <option value="">Select Callback Time*</option>
                            <option value="Immediately">Immediately</option>
                            <option value="Within 15 minutes">Within 15 minutes</option>
                            <option value="Within 1 hour">Within 1 hour</option>

                      </select>
                      <label for="preferredTime">Preferred Callback Time</label>
                      <div class="invalid-feedback">
                        Please select when you would like to be contacted
                      </div>
                    </div>
                  </div>

                  <!-- Message -->
                  <div class="col-12">
                    <div class="form-floating">
                      <textarea
                        class="form-control"
                        placeholder="Leave a message here"
                        id="message"
                        name="message"
                        style="height: 120px"
                        required
                        minlength="10"
                        maxlength="1000"
                      ></textarea>
                      <label for="message">Message</label>
                      <div class="invalid-feedback">
                        Please enter your message (minimum 10 characters and maximum 1000 characters)
                      </div>
                    </div>
                  </div>

                  <!-- Submit Button -->
                  <div class="col-12">
                    <button
                      class="btn btn-primary w-100 py-3"
                      type="submit"
                      id="submitContactBtn"
                      disabled
                    >
                      Send Message
                    </button>
                    <div id="contact-message" class="mt-3"></div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
            <div class="h-100" style="min-height: 400px">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3509.201111337185!2d77.04059372613159!3d28.413187894006487!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390d23e91e0f9f45%3A0xdcc6076502ec3458!2sAdam%20Vacations!5e0!3m2!1sen!2sin!4v1769684689969!5m2!1sen!2sin"
                width="100%"
                height="640px"
                style="border: 0"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Contact End -->

    <!-- Footer Start -->
    <div
      class="container-fluid bg-dark text-light footer mt-5 pt-5 wow fadeIn"
      data-wow-delay="0.1s"
    >
      <div class="container py-5">
        <div class="row g-5">
          <div class="col-lg-3 col-md-6">
            <h5 class="text-light mb-4">Address</h5>
            <p class="mb-2">
              <i class="fa fa-map-marker-alt me-3"></i>Unit 16A, 16B / 17A
              Ground Floor, Tower B3, Spaze Itech Park, Sector 49, Gurugram,
              Haryana 122018, India
            </p>
            <p class="mb-2">
              <i class="fa fa-phone-alt me-3"></i>+1 855 888 0114
            </p>
            <p class="mb-2">
              <i class="fa fa-envelope me-3"></i>medical@adamvacations.com
            </p>
            <div class="d-flex pt-2">
              <a class="btn btn-outline-light btn-social rounded-circle" href=""
                ><i class="fab fa-twitter"></i
              ></a>
              <a class="btn btn-outline-light btn-social rounded-circle" href=""
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a class="btn btn-outline-light btn-social rounded-circle" href=""
                ><i class="fab fa-youtube"></i
              ></a>
              <a class="btn btn-outline-light btn-social rounded-circle" href=""
                ><i class="fab fa-linkedin-in"></i
              ></a>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <h5 class="text-light mb-4">Services</h5>
            <a class="btn btn-link" href="">Cardiology</a>
            <a class="btn btn-link" href="">Pulmonary</a>
            <a class="btn btn-link" href="">Neurology</a>
            <a class="btn btn-link" href="">Orthopedics</a>
            <a class="btn btn-link" href="">Laboratory</a>
          </div>
          <div class="col-lg-3 col-md-6">
            <h5 class="text-light mb-4">Quick Links</h5>
            <a class="btn btn-link" href="about.html">About Us</a>
            <a class="btn btn-link" href="contact.html">Contact Us</a>
            <a class="btn btn-link" href="privacy-policy.html"
              >Privacy Policy</a
            >
            <a class="btn btn-link" href="termsandconditions.html"
              >Terms & Condition</a
            >
            <a class="btn btn-link" href="refund-policy.html"
              >Refund & Cancellation Policy</a
            >
          </div>
          <div class="col-lg-3 col-md-6">
            <h5 class="text-light mb-4">Newsletter</h5>
            <p>Caring for Your Health, Every Day</p>
            <div class="position-relative mx-auto" style="max-width: 400px">
              <input
                class="form-control border-0 w-100 py-3 ps-4 pe-5"
                type="text"
                placeholder="Your email"
              />
              <button
                type="button"
                class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2"
              >
                SignUp
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="copyright">
          <div class="row">
            <div class="col-md-12 text-center text-md-start mb-3 mb-md-0">
              &copy; medical@adamvacations.com, All Right Reserved.
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a
      href="#"
      class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"
      ><i class="bi bi-arrow-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/19.2.15/js/intlTelInput.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize intl-tel-input for phone
        const phoneInputField = document.getElementById("phone");
        const phoneInput = window.intlTelInput(phoneInputField, {
          initialCountry: "us", // or "us" — your choice
          preferredCountries: ["in", "us", "gb", "ae", "ca", "es"],
          utilsScript:
            "https://cdn.jsdelivr.net/npm/intl-tel-input@19.2.15/build/js/utils.js",
          separateDialCode: true,
          nationalMode: false,
          formatOnDisplay: true,
        });

        const form = document.getElementById("contactForm");
        const submitBtn = document.getElementById("submitContactBtn");
        const messageDiv = document.getElementById("contact-message");

        const interactedFields = new Set();

        function validateField(field) {
          let isValid = false;

          switch (field.id) {
            case "name":
              isValid = field.value.trim().length >= 2;
              break;
            case "email":
              isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(field.value.trim());
              break;
            case "phone":
              isValid = phoneInput.isValidNumber();
              break;
            case "nationality":
            case "subject":
            case "preferredTime":
              isValid = field.value.trim() !== "";
              break;
            case "message":
              isValid = field.value.trim().length >= 10 && field.value.trim().length <= 1000;
              break;
          }

          if (interactedFields.has(field.id)) {
            field.classList.toggle("is-valid", isValid);
            field.classList.toggle("is-invalid", !isValid);
          }

          updateSubmitButton();
        }

        function updateSubmitButton() {
          let allValid = true;
          ["name", "email", "phone", "preferredTime", "message"].forEach(
            (id) => {
              const field = document.getElementById(id);
              if (
                !field.classList.contains("is-valid") &&
                interactedFields.has(id)
              ) {
                allValid = false;
              }
              if (!interactedFields.has(id)) {
                allValid = false;
              }
            },
          );
          submitBtn.disabled = !allValid;
        }

        // Attach listeners
        const fields = ["name", "email", "phone", "preferredTime", "message"];
        fields.forEach((id) => {
          const el = document.getElementById(id);
          if (el) {
            el.addEventListener("focus", () => interactedFields.add(id));
            el.addEventListener("input", () => {
              interactedFields.add(id);
              validateField(el);
            });
            el.addEventListener("blur", () => {
              interactedFields.add(id);
              validateField(el);
            });
          }
        });

        phoneInputField.addEventListener("countrychange", () => {
          interactedFields.add("phone");
          validateField(phoneInputField);
        });

        // Form submit
        form.addEventListener("submit", async function (e) {
          e.preventDefault();
          if (submitBtn.disabled) return;

          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<span class="spinner-border spinner-border-sm me-2"></span> Sending...';

          const formData = {
            name: document.getElementById("name").value.trim(),
            email: document.getElementById("email").value.trim().toLowerCase(),
            phone: phoneInput.getNumber(), // +country code format
            preferredTime: document.getElementById("preferredTime").value,
            usermessage: document.getElementById("message").value.trim(),
          };

          console.log("Form data ", formData);

          try {
            const response = await fetch(
              "https://localhost:32769/api/MedicalMessage",
              {
                // ← change URL
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(formData),
              },
            );

            const responseText = await response.text();

            console.log("Server HTTP status:", response.status);
            console.log("Server raw response:", responseText);

            let data;
            try {
              data = JSON.parse(responseText);
            } catch (e) {
              data = { raw: responseText };
            }

            if (response.ok) {
              messageDiv.innerHTML =
                '<div class="alert alert-success">Message sent successfully! Redirecting...</div>';
              form.reset();
              phoneInput.setCountry("us"); // reset to default
              submitBtn.disabled = true;

            sessionStorage.setItem(
                "medicalMessageResponse",
                JSON.stringify(data),
              );

            setTimeout(() => (window.location.href = "/thank-you"), 2000);


            } else {
              messageDiv.innerHTML = `<div class="alert alert-danger">${data.message || "Failed to send message"}</div>`;
            }
          } catch (err) {
            messageDiv.innerHTML =
              '<div class="alert alert-danger">Connection error. Please try again later.</div>';
          } finally {
            submitBtn.innerHTML = "Send Message";
            submitBtn.disabled = false;
          }
        });

        // Initial state
        submitBtn.disabled = true;
      });
    </script>
  </body>
</html>
